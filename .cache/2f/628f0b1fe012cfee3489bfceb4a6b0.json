{"id":"SnKV","dependencies":[{"name":"E:\\Data\\Project\\imds-widget\\package.json","includedInParent":true,"mtime":1656703357071},{"name":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\package.json","includedInParent":true,"mtime":1656702981502},{"name":"inherits","loc":{"line":11,"column":23,"index":492},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\inherits\\inherits_browser.js"},{"name":"events","loc":{"line":12,"column":27,"index":531},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\event\\emitter.js"},{"name":"../version","loc":{"line":13,"column":22,"index":576},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\version.js"},{"name":"../utils/url","loc":{"line":14,"column":23,"index":613},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\utils\\url.js"},{"name":"../utils/iframe","loc":{"line":15,"column":26,"index":655},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\utils\\iframe.js"},{"name":"../utils/event","loc":{"line":16,"column":25,"index":699},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\utils\\event.js"},{"name":"../utils/random","loc":{"line":17,"column":21,"index":738},"parent":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\transport\\iframe.js","resolved":"E:\\Data\\Project\\imds-widget\\node_modules\\sockjs-client\\lib\\utils\\random.js"}],"generated":{"js":"\"use strict\";var e=require(\"inherits\"),i=require(\"events\").EventEmitter,t=require(\"../version\"),s=require(\"../utils/url\"),a=require(\"../utils/iframe\"),r=require(\"../utils/event\"),n=require(\"../utils/random\"),o=function(){};function h(e,t,d){if(!h.enabled())throw new Error(\"Transport created when disabled\");i.call(this);var l=this;this.origin=s.getOrigin(d),this.baseUrl=d,this.transUrl=t,this.transport=e,this.windowId=n.string(8);var c=s.addPath(d,\"/iframe.html\")+\"#\"+this.windowId;o(e,t,c),this.iframeObj=a.createIframe(c,function(e){o(\"err callback\"),l.emit(\"close\",1006,\"Unable to load an iframe (\"+e+\")\"),l.close()}),this.onmessageCallback=this._message.bind(this),r.attachEvent(\"message\",this.onmessageCallback)}e(h,i),h.prototype.close=function(){if(o(\"close\"),this.removeAllListeners(),this.iframeObj){r.detachEvent(\"message\",this.onmessageCallback);try{this.postMessage(\"c\")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(e){if(o(\"message\",e.data),s.isOriginEqual(e.origin,this.origin)){var i;try{i=JSON.parse(e.data)}catch(r){return void o(\"bad json\",e.data)}if(i.windowId===this.windowId)switch(i.type){case\"s\":this.iframeObj.loaded(),this.postMessage(\"s\",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case\"t\":this.emit(\"message\",i.data);break;case\"c\":var a;try{a=JSON.parse(i.data)}catch(r){return void o(\"bad json\",i.data)}this.emit(\"close\",a[0],a[1]),this.close()}else o(\"mismatched window id\",i.windowId,this.windowId)}else o(\"not same origin\",e.origin,this.origin)},h.prototype.postMessage=function(e,i){o(\"postMessage\",e,i),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:i||\"\"}),this.origin)},h.prototype.send=function(e){o(\"send\",e),this.postMessage(\"m\",e)},h.enabled=function(){return a.iframeEnabled},h.transportName=\"iframe\",h.roundTrips=2,module.exports=h;"},"sourceMaps":null,"error":null,"hash":"0df7b7526c7bf2eeb2549bd1032826e3","cacheData":{"env":{"NODE_ENV":"production"}}}